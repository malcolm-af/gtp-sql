- do NOT wrap aggregate functions within functions
- prefer to use CTEs instead of subqueries
- do not use correlated subqueries
- prefer to use window functions, but donâ€™t mix window functions and group by
- prefer to separate each step into multiple CTEs (this needs to be better explained)
- avoid using EXISTS / NOT EXISTS (use join exclusions instead)
- don't make unnecessary joins
- do not put metrics in the group by clause